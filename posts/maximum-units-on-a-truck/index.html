<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        Maximum Units on a Truck ::
        Anton&#39;s Daily Algorithm — A simple theme for Hugo
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="link to question
Question explanation So the question is asking us to maximize the number of units in a set number of boxes. Boxes have a variable capacity. But the truck can fit a set number of boxes with any capacity. This is stupid in my opinion because a larger capacity box would most likely take up more space in the truck.
My Original Solution When we read that we need to maximize a variable there is a high chance that we need to use a sort function."
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://antdon.github.io/algorithms.github.io/posts/maximum-units-on-a-truck/" />





<link rel="stylesheet" href="https://antdon.github.io/algorithms.github.io/assets/style.css" />

<link rel="stylesheet" href="https://antdon.github.io/algorithms.github.io/style.css" />


<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="https://antdon.github.io/algorithms.github.io/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="https://antdon.github.io/algorithms.github.io/img/favicon.png" />


<link href="https://antdon.github.io/algorithms.github.io/assets/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://antdon.github.io/algorithms.github.io/assets/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://antdon.github.io/algorithms.github.io/assets/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://antdon.github.io/algorithms.github.io/assets/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://antdon.github.io/algorithms.github.io/assets/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://antdon.github.io/algorithms.github.io/assets/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Maximum Units on a Truck"/>
<meta name="twitter:description" content="link to question
Question explanation So the question is asking us to maximize the number of units in a set number of boxes. Boxes have a variable capacity. But the truck can fit a set number of boxes with any capacity. This is stupid in my opinion because a larger capacity box would most likely take up more space in the truck.
My Original Solution When we read that we need to maximize a variable there is a high chance that we need to use a sort function."/>



<meta property="og:title" content="Maximum Units on a Truck" />
<meta property="og:description" content="link to question
Question explanation So the question is asking us to maximize the number of units in a set number of boxes. Boxes have a variable capacity. But the truck can fit a set number of boxes with any capacity. This is stupid in my opinion because a larger capacity box would most likely take up more space in the truck.
My Original Solution When we read that we need to maximize a variable there is a high chance that we need to use a sort function." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://antdon.github.io/algorithms.github.io/posts/maximum-units-on-a-truck/" />
<meta property="article:published_time" content="2022-07-01T12:17:07+10:00" />
<meta property="article:modified_time" content="2022-07-01T12:17:07+10:00" /><meta property="og:site_name" content="Anton&#39;s Daily Algorithm" />






  </head>
  <body class="light-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="https://antdon.github.io/algorithms.github.io/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >Anton&#39;s Algorithims</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title">Maximum Units on a Truck</h1>
    <div class="post-meta">
      
        <span class="post-date">
          2022-07-01
        </span>

        
          
        
      

      


      
    </div>

    

    

    <div class="post-content">
      
      <p><a href="https://leetcode.com/problems/maximum-units-on-a-truck/">link to question</a></p>
<h2 id="question-explanation">Question explanation</h2>
<p>So the question is asking us to maximize the number of units in a set number of boxes. Boxes have a variable capacity. But the truck can fit a set number of boxes with any capacity. This is stupid in my opinion because a larger capacity box would most likely take up more space in the truck.</p>
<h2 id="my-original-solution">My Original Solution</h2>
<p>When we read that we need to maximize a variable there is a high chance that we need to use a sort function. In this case we need to sort by the reverse of the second indexs in the tuple because we want the largest size box to be at the front. We can use the sort we discussed in [[Queue Reconstruction by Height]].</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">boxTypes<span style="color:#f92672">.</span>sort(key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> a: <span style="color:#f92672">-</span>a[<span style="color:#ae81ff">1</span>])
</code></pre></div><p>We need to keep track of the number of boxes we have &ldquo;loaded&rdquo; on to the truck.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</code></pre></div><p>We then want to now run through this list until either we run out of boxes or the truck is full. We can do this using a while loop of the truck size that breaks if we run out of boxes.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">while</span> truckSize <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>:
            <span style="color:#66d9ef">if</span> boxTypes <span style="color:#f92672">==</span> []:
                <span style="color:#66d9ef">return</span> count
            <span style="color:#66d9ef">if</span> boxTypes[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
                boxTypes<span style="color:#f92672">.</span>pop(<span style="color:#ae81ff">0</span>)
            <span style="color:#66d9ef">else</span>:
                boxTypes[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>]<span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
                truckSize <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
                count <span style="color:#f92672">+=</span> boxTypes[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">1</span>]
</code></pre></div><p>Once we have filled the truck we can just return count</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">return</span> count
</code></pre></div><h2 id="entire-solution">Entire solution</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">maximumUnits</span>(self, boxTypes: List[List[int]], truckSize: int) <span style="color:#f92672">-&gt;</span> int:
        boxTypes<span style="color:#f92672">.</span>sort(key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> a: <span style="color:#f92672">-</span>a[<span style="color:#ae81ff">1</span>])
        count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">while</span> truckSize <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>:
            <span style="color:#66d9ef">if</span> boxTypes <span style="color:#f92672">==</span> []:
                <span style="color:#66d9ef">return</span> count
            <span style="color:#66d9ef">if</span> boxTypes[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
                boxTypes<span style="color:#f92672">.</span>pop(<span style="color:#ae81ff">0</span>)
            <span style="color:#66d9ef">else</span>:
                boxTypes[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>]<span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
                truckSize <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
                count <span style="color:#f92672">+=</span> boxTypes[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">1</span>]
        <span style="color:#66d9ef">return</span> count
</code></pre></div><h2 id="optimization">Optimization</h2>
<p>So the solution above is O(nlogn) because the list needs to be sorted and thats the most complex operation we made. However, the operation of taking the box from the start of the boxTypes is very slow. If an element is removed from the start of the list we need to shift all the elements to the right of that element left so that the list begins at the same position in memory and we don&rsquo;t just have an empty spot. We can fix this by sorting the boxTypes list in regular order and taking from the end instead of the beginning.\</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">maximumUnits</span>(self, boxTypes: List[List[int]], truckSize: int) <span style="color:#f92672">-&gt;</span> int:
        boxTypes<span style="color:#f92672">.</span>sort(key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> a: a[<span style="color:#ae81ff">1</span>])
        count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">while</span> truckSize <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>:
            <span style="color:#66d9ef">if</span> boxTypes <span style="color:#f92672">==</span> []:
                <span style="color:#66d9ef">return</span> count
            <span style="color:#66d9ef">if</span> boxTypes[len(boxTypes) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
                boxTypes<span style="color:#f92672">.</span>pop()
            <span style="color:#66d9ef">else</span>:
                boxTypes[len(boxTypes) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">0</span>]<span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
                truckSize <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
                count <span style="color:#f92672">+=</span> boxTypes[len(boxTypes) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">1</span>]
        <span style="color:#66d9ef">return</span> count

</code></pre></div><p>The next way to optimize is going to be not removing the boxes at all. Rather than iterating through the <code>range(truckSize)</code> we can iterate through each box once and subtract the number of boxes from the truckSize while keeping a count of the box[0] x box[1]. When we get to a position where only some of the boxes fit on the truck we can add the size of the boxes by the remaineder in the truck.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">maximumUnits</span>(self, boxTypes: List[List[int]], truckSize: int) <span style="color:#f92672">-&gt;</span> int:
        boxTypes<span style="color:#f92672">.</span>sort(key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> a: <span style="color:#f92672">-</span>a[<span style="color:#ae81ff">1</span>])
        summ <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">for</span> box <span style="color:#f92672">in</span> boxTypes:
            <span style="color:#66d9ef">print</span>(box, truckSize, summ)
            <span style="color:#66d9ef">if</span> box[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">&gt;</span> truckSize:
                summ <span style="color:#f92672">+=</span> truckSize<span style="color:#f92672">*</span>box[<span style="color:#ae81ff">1</span>]
                <span style="color:#66d9ef">break</span>
            <span style="color:#66d9ef">else</span>:
                summ <span style="color:#f92672">+=</span> box[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> box[<span style="color:#ae81ff">1</span>]
                truckSize <span style="color:#f92672">-=</span> box[<span style="color:#ae81ff">0</span>]
        <span style="color:#66d9ef">return</span> summ
</code></pre></div><h2 id="discussion-solutions">Discussion Solutions</h2>
<p>By looking at the discussion we can find ways to further optimize our code. So something I confess I didn&rsquo;t think of is that since the capacity of the box is distinct and limited to 1000 elements we can do a bucket sort rather than a comparison sort. This brings our solution down to O(n) rather than O(log(n)) which makes it much faster. Here is an example of that courtesy of <a href="https://leetcode.com/InjySarhan">InjySarhan</a> on leetcode.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">maximumUnits</span>(self, boxTypes: List[List[int]], truckSize: int) <span style="color:#f92672">-&gt;</span> int:
        
        bucket<span style="color:#f92672">=</span>[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">*</span><span style="color:#ae81ff">1001</span> <span style="color:#75715e"># here the bucket index represents the number of units, and value is how many boxes are there which have unit X</span>
        res<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
        
        <span style="color:#75715e">#fill in the bucket</span>
        <span style="color:#66d9ef">for</span> numBox,units <span style="color:#f92672">in</span> boxTypes:
            bucket[units]<span style="color:#f92672">+=</span>numBox
    
    
        <span style="color:#75715e">#reverse the bucket, why? because its a greedy approach, start with higher units i.e: higher index</span>
        <span style="color:#66d9ef">for</span> idx,numBox <span style="color:#f92672">in</span> enumerate(bucket[::<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]):
            
            unit<span style="color:#f92672">=</span>len(bucket)<span style="color:#f92672">-</span>idx<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#75715e">#because we reverse bucket the original index which represents the # of units is lost, so I want the original index </span>
            
            <span style="color:#66d9ef">if</span> truckSize<span style="color:#f92672">&gt;=</span>numBox:
                res<span style="color:#f92672">+=</span>numBox<span style="color:#f92672">*</span>unit
                truckSize<span style="color:#f92672">-=</span>numBox
            <span style="color:#66d9ef">else</span>:
                res<span style="color:#f92672">+=</span>truckSize<span style="color:#f92672">*</span>unit
                <span style="color:#66d9ef">return</span> res
            
        <span style="color:#66d9ef">return</span> res
</code></pre></div>
    </div>
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h"
              >Read other posts</span
            >
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="https://antdon.github.io/algorithms.github.io/posts/longest-consecutive-sequence/">
                  <span class="button__icon">←</span>
                  <span class="button__text">Longest Consecutive Sequence</span>
                </a>
              </span>
            
            
              <span class="button next">
                <a href="https://antdon.github.io/algorithms.github.io/posts/queue-reconstruction-by-height/">
                  <span class="button__text">Queue Reconstruction By Height</span>
                  <span class="button__icon">→</span>
                </a>
              </span>
            
          </div>
        </div>
      
    

    
      
        

      
    
  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <a
  href="https://antdon.github.io/algorithms.github.io/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >Anton&#39;s Algorithims</span
    >
    <span class="logo__cursor"></span>
  
</a>

      <div class="copyright">
        <span
          >© 2022 Powered by
          <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a></span
        >
        <span
          >Theme created by
          <a href="https://twitter.com/panr" target="_blank" rel="noopener">panr</a></span
        >
      </div>
    
  </div>
</footer>

<script src="https://antdon.github.io/algorithms.github.io/assets/main.js"></script>
<script src="https://antdon.github.io/algorithms.github.io/assets/prism.js"></script>


      
    </div>

    
  </body>
</html>
